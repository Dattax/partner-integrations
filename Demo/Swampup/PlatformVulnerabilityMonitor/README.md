# JFrog Platform Vulnerability Notification Demo

## Purpose
Utilize JFrog Artifactory + Xray and Partner integrations (Slack, Pagerduty, Datadog, Jiracloud) to create a robust end to end Security information event management pipeline to monitor your artifacts through JFrog's platform.

## Artifactory Setup
Artifactory is required and we recommend following the below best practices highlighted in this demo:

```text
1. Separation of dev/test/prod artifact repos
2. Usage of build info and build promotion in Artifactory
3. Artifact property usage for labels/tags on artifacts
```

Artifact repos by type must be properly separated by dev/test/prod to enable our demo flow to monitor impacted environment types for an infected component.

## Xray Setup

To setup Xray, we will create a new Policy with a rule to generate violations for now.

We will save this new Policy for now and update it as we go along this guide later when we need to add webhooks.

Next create an Xray Watch per environment that we want to monitor.

In my example, I have a repo `prod-xray-repo` that will contain all the docker images that are in production environment. 

Enable the Xray watch on this repo to scan the production docker images.

Once the Xray Policy & Watch has been created we can proceed with our partner integrations setup guides below.

## Xray Slack App Setup

Follow our integration guide to setup [Xray Slack App here.](../../../Slack/Platform/App/README.md)

## Xray Pagerduty App Setup

Follow our integration guide to setup [Xray Pagerduty App here.](../../../PagerDuty/Xray/SecurityIncidents/README.md)

## Xray Datadog SIEM Setup

Follow our integration guide to setup [Xray Datadog SIEM here.]()

## Pagerduty Jiracloud App Setup

We used the Jiracloud App for Pagerduty to generate our Jira issue directly from Pagerduty. Additional information on this app can be found [here.](https://support.pagerduty.com/docs/jira-cloud)

## Putting it all together

Now that we have everything setup when a new Xray vulnerability is found in our production docker images from the `prod-xray-repo` we will be notified in Slack with the information we need to quickly leverage the Datadog Xray Violation Dashboard to assess, analyze, and mitigate future security risks.

Setup as many Xray watches as needed to monitor environments utilizing Datadog and Pagerduty to assess, monitor, and notify the proper team or on-call staff.

